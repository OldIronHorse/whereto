{% extends "layout.html" %}
{% block body %}
  <div id="map">
  </div>
  <script>
    var map;
    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: 48.856614, lng: 2.3522219 },
        zoom: 5
      });
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&callback=initMap" async defer>
  </script>
  <div class="towns">
    {% for town in towns %}
      <div class="town">
        <div class="duration">
          {{ town.duration_text }}
        </div>
        <div class="commune">
          {{ town.commune }}
        </div>
        <div class="department">
          {{ town.department }}
        </div>
        <div class="region">
          {{  town.region }}
        </div>
      </div>
    {% else %}
      <div class="empty-content">
        No towns to show :-(
      </div>
    {% endfor %}
  </div>
{% endblock %}
